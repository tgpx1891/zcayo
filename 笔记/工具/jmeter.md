### 性能测试

软件性能测试是一种非功能性测试，让应用程序的性能在预期或更高负载下进行评估。进行性能测试以测量系统的不同性能属性，如响应时间(速度)，可靠性，资源使用，可扩展性，各种负载条件下的稳定性等。在推出市场上的最终软件产品之前，应针对各种负载条件下的速度，可扩展性和稳定性对产品进行测试。如果产品在没有进行性能测试的情况下直接上线，可能会导致处理速度慢和可用性差等问题，从而可能获得不良声誉并直接影响预期的销售目标

负载测试是一种性能测试，可模拟任何软件、应用程序或网站上的实际负载。它有助于确定系统在正常和峰值条件下的行为方式。可以在受控的实验室条件下执行负载测试，以比较不同系统的功能或准确测量单个系统的功能。压力测试也是一种性能测试，也称为疲劳测试，有助于确定计算机、网络、程序或设备在不利条件下保持一定效率的能力

### JMeter 介绍

JMeter也称为“Apache JMeter”，它是一个开源的，100%基于Java的应用程序，带有图形界面。 它旨在分析和衡量Web应用程序和各种服务的性能和负载功能行为。JMeter主要用于测试Web应用程序或FTP应用程序，但目前，它适用于功能测试，JDBC数据库连接，Web服务，通用TCP连接和OS本机进程。 您可以执行各种测试活动，如性能，负载，压力，回归和功能测试，以便针对您的Web服务器获得准确的性能指标。Web服务器包含大量应用程序和用户，因此有必要知道Web服务器处理同时访问用户或应用程序的能力。 例如; 当许多用户同时访问网站时，网站服务器将如何执行，基本上要使用JMeter等性能测试工具进行性能测试。以下是 JMeter 支持的协议列表：

- Web Services - SOAP / XML-RPC
- Web - HTTP, HTTPS sites ‘web 1.0’ web 2.0 (ajax, flex 和 flex-ws-amf)
- 通过JDBC驱动程序的数据库
- 目录 - LDAP
- 通过JMS面向消息传递的服务
- 服务 - POP3, IMAP, SMTP

### JMeter 特性

- **开源应用程序：**JMeter是一个免费的开源应用程序，可以帮助用户或开发人员使用源代码开发其他应用程序。
- **用户友好的GUI：**JMeter带有简单的交互式 GUI。
- **支持各种测试方法：**JMeter支持各种测试方法，如负载测试，分布式测试和功能测试等。
- **支持多协议：**JMeter支持HTTP，JDBC，LDAP，SOAP，JMS和FTP等协议。
- **模拟：**JMeter可以使用虚拟用户或唯一用户模拟多个用户，以便对正在测试的Web应用程序产生大量负载。
- **框架：**JMeter是一个多线程框架，允许许多或单独的线程组同时和同时采样不同的函数。
- **远程分布式测试：**JMeter具有用于分布式测试的主从概念，其中主服务器将在所有从服务器之间分配测试，而从服务器将针对服务器执行脚本。
- **测试结果可视化：**测试结果可以以不同的格式查看，如图形，表格，树型和报告等

### 工作流程

JMeter 通过模拟一组用户将请求发送到目标服务器。 随后，收集数据以通过各种格式计算目标服务器的统计和显示性能度量

![164815_79832](E:\我的电脑\图片\学习\测试\164815_79832.png)

### 下载和启动

JMeter 下载：http://jmeter.apache.org/download_jmeter.cgi，Windows 系统，转到`bin`目录点击 *jmeter.bat*  文件，以 GUI 模式启动 JMeter

### 构建测试计划

可以将测试计划可视化为用于运行测试的 JMeter 脚本。测试计划由测试元素组成，例如线程组，逻辑控制器，样本生成控制器，监听器，定时器，断言和配置元素。每个测试计划中至少应有一个线程组。 我们可以根据要求添加或删除元素

- 默认的JMeter界面包含一个测试计划节点，其中保留了真实的测试计划。“测试计划(Test plan)”节点包含测试计划的名称和用户定义的变量。当您在测试计划的多个部分中有重复值时，可使用用户定义变量，它提供了灵活性

- 添加/删除测试计划元素

- 加载并保存测试计划元素

- 配置树元素：可以使用JMeter右侧框架上的控件配置测试计划中的元素。例如，可以配置线程组元素的名称、线程数(正在测试的用户数)、加速时间(希望允许线程组从`0`到`3`个用户的时间)和循环计数(应该循环测试的次数)

- 保存JMeter测试计划：可以通过从文件菜单中选择**“Save”** 或**“Save Test Plan As”**来保存整个测试计划

- 运行JMeter测试计划：可以通过单击菜单项中的**“Start(Control + r)”**来运行测试计划，也可以单击绿色播放按钮。当测试计划开始运行时，JMeter界面在菜单栏正下方的部分的右端显示一个绿色圆圈。绿色圆圈左侧的数字表示：活动线程数/总线程数

- 停止JMeter测试计划：可以使用**Stop(Control +’.’)**停止测试计划，它会立即停止线程。还可以使用**Shutdown(Control +’，’)**，它请求线程在任何正在进行的任务结束时停止

- 检查JMeter测试计划执行日志：JMeter将测试运行详细信息，警告和错误存储到`jmeter.log`文件中。可以通过单击菜单栏正下方部分右侧的黄色惊叹号来访问 JMeter 日志

  